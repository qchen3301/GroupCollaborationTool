{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Qing\\\\Desktop\\\\GroupCollaborationTool\\\\group-collaboration\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Qing\\\\Desktop\\\\GroupCollaborationTool\\\\group-collaboration\\\\src\\\\components\\\\ProfileEditor\\\\biographyEditor.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { FirebaseContext } from '../Firebase';\nimport { SessionContext } from '../Session';\nexport default function () {\n  const firebase = useContext(FirebaseContext);\n  const session = useContext(SessionContext);\n\n  const _useState = useState(session.user),\n        _useState2 = _slicedToArray(_useState, 1),\n        user = _useState2[0];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        description = _useState4[0],\n        setDescription = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        saveable = _useState6[0],\n        setSaveable = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        error = _useState8[0],\n        setError = _useState8[1];\n\n  useEffect(() => {\n    firebase.getProfile(user.uid).then(({\n      description\n    }) => setDescription(description)).catch(setError);\n  }, [user.uid, firebase]);\n\n  const onChange = event => {\n    setDescription(event.target.value);\n    setSaveable(true);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setSaveable(false);\n    firebase.updateProfile(user.uid, {\n      description\n    }).catch(error => setError(error));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"textarea\", {\n    cols: \"45\",\n    rows: \"10\",\n    placeholder: \"about me\",\n    value: description,\n    onChange: e => onChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Save\",\n    disabled: !saveable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), error && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, error.message)));\n}","map":{"version":3,"sources":["C:/Users/Qing/Desktop/GroupCollaborationTool/group-collaboration/src/components/ProfileEditor/biographyEditor.js"],"names":["React","useState","useEffect","useContext","FirebaseContext","SessionContext","firebase","session","user","description","setDescription","saveable","setSaveable","error","setError","getProfile","uid","then","catch","onChange","event","target","value","onSubmit","preventDefault","updateProfile","e","message"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,QAAqD,OAArD;AACA,SAAQC,eAAR,QAA8B,aAA9B;AACA,SAAQC,cAAR,QAA6B,YAA7B;AAEA,eAAe,YAAW;AACxB,QAAMC,QAAQ,GAAGH,UAAU,CAACC,eAAD,CAA3B;AACA,QAAMG,OAAO,GAAGJ,UAAU,CAACE,cAAD,CAA1B;;AAFwB,oBAITJ,QAAQ,CAACM,OAAO,CAACC,IAAT,CAJC;AAAA;AAAA,QAIjBA,IAJiB;;AAAA,qBAKcP,QAAQ,CAAC,EAAD,CALtB;AAAA;AAAA,QAKjBQ,WALiB;AAAA,QAKJC,cALI;;AAAA,qBAMQT,QAAQ,CAAC,KAAD,CANhB;AAAA;AAAA,QAMjBU,QANiB;AAAA,QAMPC,WANO;;AAAA,qBAOEX,QAAQ,CAAC,EAAD,CAPV;AAAA;AAAA,QAOjBY,KAPiB;AAAA,QAOVC,QAPU;;AASxBZ,EAAAA,SAAS,CAAE,MAAM;AACfI,IAAAA,QAAQ,CACLS,UADH,CACcP,IAAI,CAACQ,GADnB,EAEGC,IAFH,CAEQ,CAAC;AAACR,MAAAA;AAAD,KAAD,KAAmBC,cAAc,CAACD,WAAD,CAFzC,EAGGS,KAHH,CAGSJ,QAHT;AAID,GALQ,EAKN,CAACN,IAAI,CAACQ,GAAN,EAAWV,QAAX,CALM,CAAT;;AAOA,QAAMa,QAAQ,GAAIC,KAAD,IAAW;AAC1BV,IAAAA,cAAc,CAACU,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAd;AACAV,IAAAA,WAAW,CAAC,IAAD,CAAX;AACD,GAHD;;AAKA,QAAMW,QAAQ,GAAIH,KAAD,IAAW;AAC1BA,IAAAA,KAAK,CAACI,cAAN;AAEAZ,IAAAA,WAAW,CAAC,KAAD,CAAX;AAEAN,IAAAA,QAAQ,CACLmB,aADH,CACiBjB,IAAI,CAACQ,GADtB,EAC2B;AAACP,MAAAA;AAAD,KAD3B,EAEGS,KAFH,CAEUL,KAAK,IAAIC,QAAQ,CAACD,KAAD,CAF3B;AAGD,GARD;;AAUA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEU,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,IADP;AAEE,IAAA,IAAI,EAAC,IAFP;AAGE,IAAA,WAAW,EAAC,UAHd;AAIE,IAAA,KAAK,EAAEd,WAJT;AAKE,IAAA,QAAQ,EAAEiB,CAAC,IAAIP,QAAQ,CAACO,CAAD,CALzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EASE;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,MAA3B;AAAkC,IAAA,QAAQ,EAAE,CAACf,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAWGE,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIA,KAAK,CAACc,OAAV,CAXZ,CADF,CADF;AAiBD","sourcesContent":["import React, {useState, useEffect, useContext} from 'react'\r\nimport {FirebaseContext} from '../Firebase'\r\nimport {SessionContext} from '../Session'\r\n\r\nexport default function() {\r\n  const firebase = useContext(FirebaseContext)\r\n  const session = useContext(SessionContext)\r\n\r\n  const [user] = useState(session.user)\r\n  const [description, setDescription] = useState(\"\")\r\n  const [saveable, setSaveable] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n\r\n  useEffect( () => {\r\n    firebase\r\n      .getProfile(user.uid)\r\n      .then(({description}) => setDescription(description))\r\n      .catch(setError)\r\n  }, [user.uid, firebase])\r\n\r\n  const onChange = (event) => {\r\n    setDescription(event.target.value)\r\n    setSaveable(true)\r\n  }\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    setSaveable(false);\r\n\r\n    firebase\r\n      .updateProfile(user.uid, {description})\r\n      .catch( error => setError(error) )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <textarea\r\n          cols=\"45\"\r\n          rows=\"10\"\r\n          placeholder=\"about me\"\r\n          value={description}\r\n          onChange={e => onChange(e)}\r\n        />\r\n        <br/>\r\n        <input type=\"submit\" value=\"Save\" disabled={!saveable} />\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}