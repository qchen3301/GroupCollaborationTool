{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Qing\\\\Desktop\\\\GroupCollaborationTool\\\\group-collaboration\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Qing\\\\Desktop\\\\GroupCollaborationTool\\\\group-collaboration\\\\src\\\\components\\\\ProfileEditor\\\\index.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FirebaseContext } from '../Firebase';\nimport EmailVerifier from './emailVerifier';\nimport NameEditor from './nameEditor';\nimport BiographyEditor from './biographyEditor';\nimport Button from '@material-ui/core/Button';\nimport * as ROUTES from '../../constants/routes';\nexport default function () {\n  const history = useHistory();\n  const firebase = useContext(FirebaseContext);\n\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        viewerLink = _useState2[0],\n        setViewerLink = _useState2[1];\n\n  useEffect(() => {\n    if (firebase.auth.currentUser) {\n      const link = ROUTES.VIEW_PROFILE.replace(\":uid\", firebase.auth.currentUser.uid);\n      setViewerLink(link);\n    } else {\n      setViewerLink(null);\n    }\n  }, [firebase.auth.currentUser]);\n\n  const handleLogout = () => {\n    firebase.doSignOut();\n    history.push(ROUTES.LANDING);\n  };\n\n  if (firebase.auth.currentUser) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"Profile\"), firebase.auth.currentUser && React.createElement(React.Fragment, null, React.createElement(EmailVerifier, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }), React.createElement(NameEditor, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }), React.createElement(BiographyEditor, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      href: viewerLink,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"View this profile\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }), React.createElement(Button, {\n      color: \"primary\",\n      onClick: handleLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Click to log out\")));\n  } else {\n    return React.createElement(\"a\", {\n      href: \"/signin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Please sign in.\");\n  }\n}","map":{"version":3,"sources":["C:/Users/Qing/Desktop/GroupCollaborationTool/group-collaboration/src/components/ProfileEditor/index.js"],"names":["React","useContext","useState","useEffect","useHistory","FirebaseContext","EmailVerifier","NameEditor","BiographyEditor","Button","ROUTES","history","firebase","viewerLink","setViewerLink","auth","currentUser","link","VIEW_PROFILE","replace","uid","handleLogout","doSignOut","push","LANDING"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,EAAqCC,SAArC,QAAqD,OAArD;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAAQC,eAAR,QAA8B,aAA9B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAO,KAAKC,MAAZ,MAAwB,wBAAxB;AAEA,eAAe,YAAW;AACxB,QAAMC,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAMQ,QAAQ,GAAGX,UAAU,CAACI,eAAD,CAA3B;;AAFwB,oBAGYH,QAAQ,CAAC,EAAD,CAHpB;AAAA;AAAA,QAGjBW,UAHiB;AAAA,QAGLC,aAHK;;AAKxBX,EAAAA,SAAS,CAAE,MAAM;AACf,QAAIS,QAAQ,CAACG,IAAT,CAAcC,WAAlB,EAA+B;AAC7B,YAAMC,IAAI,GAAGP,MAAM,CAACQ,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,EAAoCP,QAAQ,CAACG,IAAT,CAAcC,WAAd,CAA0BI,GAA9D,CAAb;AACAN,MAAAA,aAAa,CAACG,IAAD,CAAb;AACD,KAHD,MAGO;AACLH,MAAAA,aAAa,CAAC,IAAD,CAAb;AACD;AACF,GAPQ,EAON,CAACF,QAAQ,CAACG,IAAT,CAAcC,WAAf,CAPM,CAAT;;AASA,QAAMK,YAAY,GAAG,MAAM;AACzBT,IAAAA,QAAQ,CAACU,SAAT;AACAX,IAAAA,OAAO,CAACY,IAAR,CAAab,MAAM,CAACc,OAApB;AACD,GAHD;;AAKA,MAAIZ,QAAQ,CAACG,IAAT,CAAcC,WAAlB,EAA+B;AAC7B,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEIJ,QAAQ,CAACG,IAAT,CAAcC,WAAd,IACA,0CACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,EAIE;AAAG,MAAA,IAAI,EAAEH,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAwB,MAAA,OAAO,EAAEQ,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BANF,CAHJ,CADF;AAiBD,GAlBD,MAkBO;AACL,WACE;AAAG,MAAA,IAAI,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF;AAGD;AACF","sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {FirebaseContext} from '../Firebase'\r\nimport EmailVerifier from './emailVerifier'\r\nimport NameEditor from './nameEditor'\r\nimport BiographyEditor from './biographyEditor'\r\nimport Button from '@material-ui/core/Button'\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nexport default function() {\r\n  const history = useHistory()\r\n  const firebase = useContext(FirebaseContext)\r\n  const [viewerLink, setViewerLink] = useState(\"\")\r\n\r\n  useEffect( () => {\r\n    if (firebase.auth.currentUser) {\r\n      const link = ROUTES.VIEW_PROFILE.replace(\":uid\", firebase.auth.currentUser.uid)\r\n      setViewerLink(link)\r\n    } else {\r\n      setViewerLink(null)\r\n    }\r\n  }, [firebase.auth.currentUser])\r\n\r\n  const handleLogout = () => {\r\n    firebase.doSignOut()\r\n    history.push(ROUTES.LANDING)\r\n  }\r\n\r\n  if (firebase.auth.currentUser) {\r\n    return (\r\n      <div>\r\n        <h1>Profile</h1>\r\n        { firebase.auth.currentUser &&\r\n          <>\r\n            <EmailVerifier/>\r\n            <NameEditor/>\r\n            <BiographyEditor/>\r\n            <a href={viewerLink}>View this profile</a>\r\n            <br/>\r\n            <Button color=\"primary\" onClick={handleLogout}>\r\n              Click to log out\r\n            </Button>\r\n          </>\r\n        }\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <a href=\"/signin\">Please sign in.</a>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}