{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Qing\\\\Desktop\\\\GroupCollaborationTool\\\\group-collaboration\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Qing\\\\Desktop\\\\GroupCollaborationTool\\\\group-collaboration\\\\src\\\\components\\\\ProfileEditor\\\\nameEditor.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { FirebaseContext } from '../Firebase';\nexport default function () {\n  const firebase = useContext(FirebaseContext);\n\n  const _useState = useState(firebase.auth.currentUser.displayName),\n        _useState2 = _slicedToArray(_useState, 2),\n        displayName = _useState2[0],\n        setDisplayName = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        validated = _useState4[0],\n        setValidated = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        error = _useState6[0],\n        setError = _useState6[1];\n\n  useEffect(() => {\n    setDisplayName(firebase.auth.currentUser.displayName);\n  }, [firebase.auth.currentUser.displayName]);\n  useEffect(() => {\n    setValidated(displayName && displayName.length > 0 && displayName !== firebase.auth.currentUser.displayName);\n  }, [displayName, firebase.auth.currentUser.displayName]); // Copies the User displayName field into the adjunct profile document.\n\n  const syncProfile = user => {\n    firebase.updateProfile(user.uid, {\n      displayName: user.displayName\n    }).catch(setError);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setValidated(false);\n    firebase.auth.currentUser.updateProfile({\n      displayName\n    }).then(() => syncProfile(firebase.auth.currentUser)).catch(setError);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Display Name:\", React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"display name\",\n    value: displayName || \"\",\n    onChange: e => setDisplayName(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Change\",\n    disabled: !validated,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  })), error && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, error.message)));\n}","map":{"version":3,"sources":["C:/Users/Qing/Desktop/GroupCollaborationTool/group-collaboration/src/components/ProfileEditor/nameEditor.js"],"names":["React","useState","useContext","useEffect","FirebaseContext","firebase","auth","currentUser","displayName","setDisplayName","validated","setValidated","error","setError","length","syncProfile","user","updateProfile","uid","catch","onSubmit","event","preventDefault","then","e","target","value","message"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,EAAqCC,SAArC,QAAqD,OAArD;AACA,SAAQC,eAAR,QAA8B,aAA9B;AAEA,eAAe,YAAW;AACxB,QAAMC,QAAQ,GAAGH,UAAU,CAACE,eAAD,CAA3B;;AADwB,oBAEcH,QAAQ,CAACI,QAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0BC,WAA3B,CAFtB;AAAA;AAAA,QAEjBA,WAFiB;AAAA,QAEJC,cAFI;;AAAA,qBAGUR,QAAQ,CAAC,KAAD,CAHlB;AAAA;AAAA,QAGjBS,SAHiB;AAAA,QAGNC,YAHM;;AAAA,qBAKEV,QAAQ,CAAC,EAAD,CALV;AAAA;AAAA,QAKjBW,KALiB;AAAA,QAKVC,QALU;;AAOxBV,EAAAA,SAAS,CAAE,MAAM;AACfM,IAAAA,cAAc,CAACJ,QAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0BC,WAA3B,CAAd;AACD,GAFQ,EAEN,CAACH,QAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0BC,WAA3B,CAFM,CAAT;AAIAL,EAAAA,SAAS,CAAE,MAAM;AACfQ,IAAAA,YAAY,CACVH,WAAW,IACXA,WAAW,CAACM,MAAZ,GAAqB,CADrB,IAEAN,WAAW,KAAKH,QAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0BC,WAHhC,CAAZ;AAID,GALQ,EAKN,CAACA,WAAD,EAAcH,QAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0BC,WAAxC,CALM,CAAT,CAXwB,CAkBxB;;AACA,QAAMO,WAAW,GAAIC,IAAD,IAAU;AAC5BX,IAAAA,QAAQ,CACLY,aADH,CACiBD,IAAI,CAACE,GADtB,EAC2B;AAACV,MAAAA,WAAW,EAAEQ,IAAI,CAACR;AAAnB,KAD3B,EAEGW,KAFH,CAESN,QAFT;AAGD,GAJD;;AAMA,QAAMO,QAAQ,GAAIC,KAAD,IAAW;AAC1BA,IAAAA,KAAK,CAACC,cAAN;AAEAX,IAAAA,YAAY,CAAC,KAAD,CAAZ;AAEAN,IAAAA,QAAQ,CAACC,IAAT,CAAcC,WAAd,CAA0BU,aAA1B,CAAwC;AAAET,MAAAA;AAAF,KAAxC,EACGe,IADH,CACQ,MAAMR,WAAW,CAACV,QAAQ,CAACC,IAAT,CAAcC,WAAf,CADzB,EAEGY,KAFH,CAESN,QAFT;AAGD,GARD;;AAUA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEO,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,WAAW,EAAC,cAFd;AAGE,IAAA,KAAK,EAAEZ,WAAW,IAAI,EAHxB;AAIE,IAAA,QAAQ,EAAEgB,CAAC,IAAIf,cAAc,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAJ/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAQE;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,QAA3B;AAAoC,IAAA,QAAQ,EAAE,CAAChB,SAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADF,EAWGE,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIA,KAAK,CAACe,OAAV,CAXZ,CADF,CADF;AAiBD","sourcesContent":["import React, {useState, useContext, useEffect} from 'react'\r\nimport {FirebaseContext} from '../Firebase'\r\n\r\nexport default function() {\r\n  const firebase = useContext(FirebaseContext)\r\n  const [displayName, setDisplayName] = useState(firebase.auth.currentUser.displayName)\r\n  const [validated, setValidated] = useState(false)\r\n\r\n  const [error, setError] = useState(\"\")\r\n\r\n  useEffect( () => {\r\n    setDisplayName(firebase.auth.currentUser.displayName)\r\n  }, [firebase.auth.currentUser.displayName])\r\n\r\n  useEffect( () => {\r\n    setValidated(\r\n      displayName &&\r\n      displayName.length > 0 &&\r\n      displayName !== firebase.auth.currentUser.displayName)\r\n  }, [displayName, firebase.auth.currentUser.displayName])\r\n\r\n  // Copies the User displayName field into the adjunct profile document.\r\n  const syncProfile = (user) => {\r\n    firebase\r\n      .updateProfile(user.uid, {displayName: user.displayName})\r\n      .catch(setError)\r\n  }\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault()\r\n\r\n    setValidated(false)\r\n\r\n    firebase.auth.currentUser.updateProfile({ displayName })\r\n      .then(() => syncProfile(firebase.auth.currentUser))\r\n      .catch(setError)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <label>\r\n          Display Name:\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"display name\"\r\n            value={displayName || \"\"}\r\n            onChange={e => setDisplayName(e.target.value)}\r\n          />\r\n          <input type=\"submit\" value=\"Change\" disabled={!validated} />\r\n        </label>\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}